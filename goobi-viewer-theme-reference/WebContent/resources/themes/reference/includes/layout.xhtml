<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html" 
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" 
    xmlns:viewer="http://xmlns.jcp.org/jsf/composite/components/partner"
    xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components" 
    xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
    xmlns:templateComponent="http://xmlns.jcp.org/jsf/composite/themes/reference/components">

	<!-- MOBILE OVERLAY -->
	<div class="mobile-overlay"></div>

    <!-- HEADER -->
    <!-- PAGE HEADER TOP -->
    <div id="pageHeaderTop" class="page-header__top-wrapper">
        <div class="container">
            <div class="page-header__top">
	            <!-- OPEN MOBILE NAVIGATION -->
            	<div class="page-header__top-mobile-nav">
					<button type="button" class="btn btn--clean" data-open="menu" aria-label="#{msg.aria_label__open_navigation}">
						<span></span>
					</button>
				</div>
            
                <!-- PAGE HEADER TOP BRAND -->            
                <div class="page-header__top-brand">
                    <a href="https://www.intranda.com/" target="_blank" rel="noopener">intranda GmbH</a>
                </div>

                <!-- PAGE HEADER TOP ACTIONS -->            
                <div class="page-header__top-actions">
                    <!-- CHANGE LOCALE -->
                    <ui:fragment rendered="#{fn:length(navigationHelper.supportedLanguages) > 1}">
                        <div id="changeLocalWrapper" class="page-header__top-actions-language">
                    	   <button type="button" class="btn btn--clean" data-toggle="local" aria-label="#{msg.aria_label__switch_language}">
                    		  #{msg['changeLocal_' += navigationHelper.localeString]}
                    	   </button>
                            <viewerComponent:changeLocal toggleLanguage="false" showFlags="false" />
                        </div>
                    </ui:fragment>
                    <!-- BOOKMARKS -->
                    <div class="page-header__top-actions-bookmark">
                        <viewerComponent:bookmarkListNavigation />
                    </div>
                    <!-- LOGIN NAVIGATION -->
                    <div class="page-header__top-actions-login">
                        <viewerComponent:loginNavigation />
                    </div>
                </div>

	            <!-- OPEN MOBILE NAVIGATION -->
            	<div class="page-header__top-mobile-sidebar">
					<button type="button" class="btn btn--clean" data-open="sidebar" aria-label="#{msg.aria_label__open_sidebar}">
						<span></span>
					</button>
				</div>
            </div>
        </div>
    </div>

    <!-- PAGE HEADER BOTTOM -->
    <div id="pageHeaderBottom" class="page-header__bottom-wrapper">
        <div class="container">
            <div class="page-header__bottom">
                <!-- PAGE HEADER BOTTOM LOGO -->
                <div class="page-header__bottom-logo">
                    <h1>
                        <a href="#{request.contextPath}/">
                            <img src="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/images/template/goobi_logo.svg" alt="Goobi Logo" />
                            <div class="page-header__bottom-span">
                            	<span>Goobi viewer</span>
                        	</div>
                        </a>
                    </h1>
                </div>
    
                <!-- PAGE HEADER BOTTOM SEARCH -->
                <div class="page-header__bottom-search">
                    <!-- SEARCH FIELD -->
                    <ui:fragment 
                        rendered="#{navigationHelper.currentPage != 'search' and 
                                    navigationHelper.currentPage != 'searchadvanced' and
                                    navigationHelper.currentPage != 'searchlist'}">
                        <widgetComponent:widget_searchField />

		                <div class="page-header__bottom-search-link">
		                	<a href="#{request.contextPath}/searchadvanced/">#{msg.searchAdvanced}</a>
		                </div>
                    </ui:fragment>
                </div>
            </div>
        </div>
    </div>
    
    <!-- NAVIGATION -->
    <div id="pageNavigation" class="page-navigation">
    	<div class="container">
    		<div class="page-navigation__wrapper">
	    		<viewerComponent:navigation megaMenu="false" />
	    		
	    		<!-- MOBILE NAVIGATION CLOSE -->
				<button type="button" class="btn btn--clean" data-close="menu" aria-label="#{msg.aria_label__close_navigation}">
					<span></span>
				</button>
    		</div>
		</div>
    </div>

    <!-- MAIN -->
    <div id="pageContent" class="page-content">
        <div class="container">
            <div class="page-content__wrapper">
	            <!-- CONTENT -->
	            <main id="main" class="page-content__main">
	            	<!-- BREADCRUMBS -->
	            	<ui:insert name="breadcrumbs" />
	            
	                <ui:insert name="content" />
	                
				<viewerComponent:modalFeedbackForm />
				<viewerComponent:modalUserLogin id="loginComponent"/>
				<viewerComponent:modalUserTerms/>

				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#feedbackModal">feedback</button>
  				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#userLoginModal">login</button>
  				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#userTermsModal">Nutzungsbedingungen</button>

	            </main>
	            
	            <!-- SIDEBAR -->
	            <aside id="sidebar" class="page-content__sidebar">	   
	                <!-- ALTERNATIVE SIDEBAR MENU COMPONENT -->
  					<!-- <viewerComponent:sidebarMenu /> -->
  
	                <!-- SIDEBAR WIDGETS -->
				    <ui:insert name="sidebar" />
				
				    <!-- RSS FEED -->
				    <ui:insert name="rssFeed" />
	            </aside>
	            
	            <!-- MOBILE SIDEBAR CLOSE -->
				<button type="button" class="btn btn--clean" data-close="sidebar" aria-label="#{msg.aria_label__close_sidebar}">
					<span></span>
				</button>
				
				

				
            </div>
        </div>
    </div>

    <!-- FOOTER -->
	<div id="pageFooter" class="page-footer">
		<div class="container">
			<div class="page-footer__wrapper">
				<!-- FOOTER LINKS -->
				<div class="page-footer__links">
					<a href="#{request.contextPath}/sitelinks/">#{msg.sitelinks}</a>| 
					<a href="#{request.contextPath}/feedback/">#{msg.feedbackLeaveFeedback}</a>|
					<a href="#{request.contextPath}/privacy/">#{msg.privacy}</a>|
					<a href="#{request.contextPath}/imprint/">#{msg.imprint}</a>|
					<span>powered by</span>
					<a href="#{msg.intrandaViewer}" target="_blank" rel="noopener">Goobi viewer</a>
				</div>
	
				<!-- FOOTER SOCIAL MEDIA -->
				<div class="page-footer__social">
					<a 
						href="https://github.com/intranda" 
						title="#{msg.social__follow_on_github}" 
						data-toggle="tooltip" 
						target="_blank" rel="noopener" 
						aria-label="#{msg.social__follow_on_github}">
						<span class="sr-only">#{msg.social__follow_on_github}</span>
						<i class="fa fa-github" aria-hidden="true"></i>
					</a>					
					<a 
						href="https://twitter.com/intranda" 
						title="#{msg.social__follow_on_twitter}"
						data-toggle="tooltip" 
						target="_blank" 
						rel="noopener" 
						aria-label="#{msg.social__follow_on_twitter}">
						<span class="sr-only">#{msg.social__follow_on_twitter}</span>
						<i class="fa fa-twitter" aria-hidden="true"></i>
					</a>
					<a 
						href="https://www.youtube.com/channel/UCbajMwS60cQcKh-kGFtb6Qg" 
						title="#{msg.social__follow_on_youtube}" 
						data-toggle="tooltip" 
						target="_blank" rel="noopener" 
						aria-label="#{msg.social__follow_on_youtube}">
						<span class="sr-only">#{msg.social__follow_on_youtube}</span>
						<i class="fa fa-youtube" aria-hidden="true"></i>
					</a>					
					<a 
						href="https://www.slideshare.net/intranda/" 
						title="#{msg.social__follow_on_slideshare}" 
						data-toggle="tooltip" 
						target="_blank" rel="noopener" 
						aria-label="#{msg.social__follow_on_slideshare}">
						<span class="sr-only">#{msg.social__follow_on_slideshare}</span>
						<i class="fa fa-slideshare" aria-hidden="true"></i>
					</a>					
				</div>
			</div>
		</div>
	</div>

    
<!--     <button id="openLogin">LOGIN</button> -->
<!--     <div data-overlay="content" data-overlay-trigger="openLogin" data-overlay-closable="true"> -->
<!-- 	    <ui:include src="/resources/includes/user/userLogin.xhtml" /> -->
<!--     </div> -->
    
<!--     FEEDBACK -->
<!--     <button id="openFeedback">FEEDBACK</button> -->
<!--     <div data-overlay="content" data-overlay-trigger="openFeedback" data-overlay-closable="true" data-overlay-fullscreen="true"> -->
<!-- 	    <viewerComponent:feedbackForm/> -->
<!--     </div> -->
    
<!--      MODAL -->
<!--     <button id="openModal">MODAL</button> -->
<!--     <div data-overlay="content" data-overlay-trigger="openModal" data-overlay-closable="true" data-overlay-type="modal"> -->
<!-- 	    <div data-overlay-content="header">Titel des Modals</div> -->
<!-- 	    <div data-overlay-content="body"> -->
<!-- 	    	<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p> -->
<!-- 	    </div> -->
<!-- 	    <div data-overlay-content="footer"> -->
<!-- 	    	<button type="button" class="btn btn-primary">Save changes</button> -->
<!--         	<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
<!-- 	    </div> -->
<!--     </div> -->

    <ui:include src="/resources/includes/overlay.xhtml" />

    
    <!-- IE 11 NOT SUPPORTED -->
    <div class="support-overlay">
        <div class="support-overlay__box">
            <header class="support-overlay__box-header">
                <h3>#{msg.ie11_heading}</h3>
            </header>
            <section class="support-overlay__box-body">
                <h:outputText value="#{msg.ie11_text}" escape="false" />
            </section>
            <footer class="support-overlay__box-footer">
                powered by <a href="http://www.intranda.com/digiverso/goobi-viewer/goobi-viewer-overview/" target="_blank">Goobi viewer</a>
            </footer>
        </div>
    </div>
</ui:composition>